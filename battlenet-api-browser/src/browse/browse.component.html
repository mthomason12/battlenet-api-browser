

<mat-card appearance="outlined" class="outerCard">
  <mat-card-header>
    <mat-card-title>
      {{displayData?.getName()}}
    </mat-card-title>
  </mat-card-header>

  <mat-card-content>
    <mat-card appearance="outlined" class="innerCard">
      <mat-card-content>
        <router-outlet></router-outlet>
      </mat-card-content>
    </mat-card>
  </mat-card-content>
  
  <mat-card-actions>
    @if(displayData?.hasData()) 
    {
      @if(apiClient.isConnected())
      {
          <button mat-raised-button (click)="reload()">Reload</button>
      }
      @else 
      {
        <button mat-raised-button disabled>Connect to update data</button>
      }          
      <!--button mat-raised-button (click)="debug()"><mat-icon>bug_report</mat-icon>Debug</button-->
    }        
    @else 
    {
      <button mat-raised-button disabled>Browse to a node that has data</button>
    }
    <button mat-raised-button (click)="getAll()" [disabled]="!canGetAll()">Get All</button>
  </mat-card-actions>
  <mat-card-footer>
    @if(displayData?.hasData())
    {
      @if (displayData?.getLastUpdate())
      {
        <p>Data last updated: {{ displayData?.getLastUpdate() }}</p>
      }
      @else
      {
        <p>Data not loaded</p>
      }          
    } 
  </mat-card-footer>      
</mat-card>
