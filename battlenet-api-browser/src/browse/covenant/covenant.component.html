<p>Covenant: {{currentData().data?.name}}</p>
<p>Description: {{currentData().data?.description}}</p>
<mat-tab-group>
    <mat-tab label="Signature Ability">  
        <p>{{currentData().data?.signature_ability?.spell_tooltip?.spell?.name}}</p>
        <p>{{currentData().data?.signature_ability?.spell_tooltip?.description}}</p>
    </mat-tab>
    <mat-tab label="Class Abilities"> 
        <table mat-table [dataSource]="currentData().data?.class_abilities!" class="mat-elevation-z8">
            <ng-container matColumnDef="class">
                <th mat-header-cell *matHeaderCellDef> Class </th>
                <td mat-cell *matCellDef="let item"> {{item.playable_class.name}} </td>
            </ng-container>  
            <ng-container matColumnDef="ability">
                <th mat-header-cell *matHeaderCellDef> Ability </th>
                <td mat-cell *matCellDef="let item"> {{item.spell_tooltip.spell.name}} </td>
            </ng-container>  
            <tr mat-header-row *matHeaderRowDef="['class', 'ability']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['class', 'ability'];"></tr>   
        </table>
    </mat-tab>
    <mat-tab label="Soulbinds">
        <mat-list role="list">
            @for (item of currentData().data?.soulbinds; track $index) {
                <mat-list-item role="listitem">{{item.name}}</mat-list-item>
            }
        </mat-list>
    </mat-tab>
    <mat-tab label="Renown Rewards">
        <table mat-table [dataSource]="currentData().data?.renown_rewards!" class="mat-elevation-z8">
            <ng-container matColumnDef="level">
                <th mat-header-cell *matHeaderCellDef> Level </th>
                <td mat-cell *matCellDef="let item"> {{item.level}} </td>
            </ng-container>  
            <ng-container matColumnDef="ability">
                <th mat-header-cell *matHeaderCellDef> Ability </th>
                <td mat-cell *matCellDef="let item"> {{item.reward.name}} </td>
            </ng-container>  
            <tr mat-header-row *matHeaderRowDef="['level', 'ability']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['level', 'ability'];"></tr>   
        </table>
    </mat-tab>
    <mat-tab label="Media">
        <table mat-table [dataSource]="currentData().media?.assets!" class="mat-elevation-z8">
            <ng-container matColumnDef="key">
                <th mat-header-cell *matHeaderCellDef> Key </th>
                <td mat-cell *matCellDef="let item"> {{item.key}} </td>
            </ng-container>  
            <ng-container matColumnDef="ability">
                <th mat-header-cell *matHeaderCellDef> Media </th>
                <td mat-cell *matCellDef="let item"> <img src="{{item.value}}"/> </td>
            </ng-container>  
            <tr mat-header-row *matHeaderRowDef="['key', 'ability']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['key', 'ability'];"></tr>   
        </table>
    </mat-tab>
</mat-tab-group>